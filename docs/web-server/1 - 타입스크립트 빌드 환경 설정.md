# 1 - 타입스크립트 빌드 환경 설정

타입스크립트 `^2.4.*`, Node.js `^8.4.*` 기준으로 설명 하고 있습니다.

> ### `^2.4.*`?
> Semver라 불리는 버젼 표기 방식입니다. 위의 표기에서 `^`가 붙어있으면, `2.4`보다 높고 `3.0`보다 낮은 `2.5.*`, `2.6.*`과 같은 버젼까지 포함한다는 의미입니다.
>
> 예시:
> - OK : 2.4.1, 2.5.3, 2.9.0
> - Not OK : 2.3.1, 1.8.5, 3.0.0

## 프로젝트 폴더 생성

프로젝트를 시작할 폴더를 만드세요.

## package.json 생성

`package.json`은 프로젝트에 관한 여러가지 정보를 나타냅니다. 주로, 프로젝트에 필요한 라이브러리나 스크립트들을 넣기 위해 씁니다. 이렇게 넣어줌으로써 다른 컴퓨터에서 쉽게 프로젝트 개발에 필요한 설정이 가능하여, 다른 사람도 쉽게 개발을 도울 수 있게 됩니다.

```sh
npm init -y
```

자동으로 `package.json`파일이 생성 된 것을 확인 할 수 있습니다.

## typescript 설치

타입스크립트를 설치해준다.

```sh
npm i -D typescript
```

> VS Code 사용시, `-g` 플래그로 다시한번 전역적으로 설치해주면 VS Code가 쉽게 타입스크립트를 찾을 수 있다.
>
> ```sh
> npm i -g typescript
> ```

설치가 되면 앞선 명령으로 생성된 package.json에 typescript가 `devDependencies`로 추가된 걸 확인 할 수 있습니다.

그리고, `tsconfig.json`을 생성하여 다음과 같이 내용을 넣어주고 저장합니다.

```json
{
  "compilerOptions": {
    "baseUrl": "src",
    "outDir": "build",
    "module": "commonjs",
    "target": "es2017",
    "noImplicitAny": false
  }
}
```

- `baseUrl` : 컴파일 될 타입스크립트 소스코드가 들어가는 장소입니다.
- `outDir` : 컴파일 된 자바스크립트 코드가 저장될 장소입니다.
- `module` : 모듈을 불러오는 방식입니다. Node.js의 경우 commonjs만(`require`를 사용하는) 지원하므로 이걸 선택하셔야 합니다.
- `target` : ECMA 스크립트 규격을 어디까지 쓸건지 결정합니다. Node.js 8.*의 경우 대부분 지원하므로, 저흰 es2017을 씁니다.
- `noImplicitAny` : 타이핑을 항상 명시적으로 줄 수 있도록 강제합니다.

## scripts 설정

설치한 타입스크립트를 좀 더 쉽게 쓰기 위해 npm으로 실행 가능한 script를 추가해줍니다.

```json
{
  "scripts": {
    "build": "tsc -p .",
    "tsc": "tsc -p . -w"
  }
}
```

이제, `npm run build`와 `npm run tsc` 스크립트가 사용가능합니다.

`build` 스크립트는 단순하게 타입스크립트를 컴파일해서 자바스크립트 파일로 만들어 줍니다.
`tsc` 스크립트는 `-w`(워치) 옵션을 추가해두어, 계속 타입스크립트 소스 파일들을 지켜보다 변경이 있는 경우 다시 컴파일을 해줍니다.

> `-p` 옵션은 `tsconfig.json`이 위치하는 프로젝트의 디렉토리를 넣어줘야 합니다. 일반적으로 같은 디렉토리에 있으면 바로 인식하지만, 저는 명시적으로 주는 것을 지향합니다.
